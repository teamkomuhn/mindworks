!function($){"use strict";const e=$("body").children("aside.sidebar");let n=[];function t(e,n,t){setTimeout((function(){$([document.documentElement,document.body]).animate({scrollTop:$(e).offset().top},n,"swing")}),t)}$(".sidenote").each((function(){const n=$(this);e.append(n)})),$("sup").each((function(e){n.push([]);const t=$(this);let o=t.offset().top,s=t.offset().left;n[e].push(s),n[e].push(o)})),$(".sidenote").each((function(e){const t=$(this),o=t.find("button.close");n[e][0],n[e][1];const s=e+1;t.prepend('<span class="sup">'+s+"</span>"),o.on("click",(function(){t.removeClass("opened")})),window.matchMedia("(any-hover: none)").matches})),$("sup").each((function(e){const n=$(this),t=$("aside.sidebar > *")[e];n.on("click",(function(){t.classList.toggle("opened")}))}));let o=[],s=!1;function i(){o=[],$(".expandable").each((function(e){const n=$(this),i=n.find(".main > header").height();o.push(i),n.height(o[e]),n.removeClass("expanded"),s||n.on("click","button.expand",(function(){let s=n.hasClass("expanded");const i=$(this),a=i.parent();s?(a.hide(),n.stop().animate({height:o[e]},300,"swing",(function(){n.removeClass("expanded"),a.fadeIn()}))):(n.addClass("expanded"),a.hide(),n.stop().animate({height:1e3},300,"swing",(function(){n.height("auto"),a.fadeIn()}))),i.hasClass("go-to")?t(n.children("section"),300,300):t(n,300,0)}))})),s=!0}i(),window.addEventListener("resize",debounce((function(){window.matchMedia("(any-hover: none)").matches||i()}),!0)),window.addEventListener("orientationchange",debounce((function(){i()}),!0))}(jQuery);