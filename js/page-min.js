!function(e){"use strict";const n=e("body").children("aside.sidebar");let t=[];function o(n,t,o){setTimeout((function(){e([document.documentElement,document.body]).animate({scrollTop:e(n).offset().top},t,"swing")}),o)}e(".sidenote").each((function(){const t=e(this);n.append(t)})),e("sup").each((function(n){t.push([]);const o=e(this);let s=o.offset().top,i=o.offset().left;t[n].push(i),t[n].push(s)})),e(".sidenote").each((function(n){const o=e(this),s=o.find("button.close");t[n][0],t[n][1];const i=n+1;o.prepend('<span class="sup">'+i+"</span>"),s.on("click",(function(){o.removeClass("opened")})),window.matchMedia("(any-hover: none)").matches})),e("sup").each((function(n){const t=e(this),o=e("aside.sidebar > *")[n];t.on("click",(function(){o.classList.toggle("opened")}))})),console.table(t);let s=[],i=!1;function a(){s=[],e(".expandable").each((function(n){const t=e(this),a=t.find(".main > header").height();s.push(a),t.height(s[n]),t.removeClass("expanded"),i||t.on("click","button.expand",(function(){let i=t.hasClass("expanded");const a=e(this),c=a.parent();i?(c.hide(),t.stop().animate({height:s[n]},300,"swing",(function(){t.removeClass("expanded"),c.fadeIn()}))):(t.addClass("expanded"),c.hide(),t.stop().animate({height:1e3},300,"swing",(function(){t.height("auto"),c.fadeIn()}))),a.hasClass("go-to")?o(t.children("section"),300,300):o(t,300,0)}))})),i=!0}a(),window.addEventListener("resize",debounce((function(){window.matchMedia("(any-hover: none)").matches||a()}),!0)),window.addEventListener("orientationchange",debounce((function(){a()}),!0))}(jQuery);